# GitHub Actions è‡ªåŠ¨æ‰“åŒ…æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

- [ ] GitHubè´¦å·
- [ ] é¡¹ç›®ä»£ç å·²å‡†å¤‡å¥½

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3æ­¥æå®šï¼‰

### æ­¥éª¤1ï¼šæ¨é€ä»£ç åˆ°GitHub

#### å¦‚æœè¿˜æ²¡æœ‰Gitä»“åº“ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/liangbaikai/Desktop/å·¥ä½œ/manage

# åˆå§‹åŒ–Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "Initial commit with Windows build workflow"
```

#### åœ¨GitHubåˆ›å»ºä»“åº“ï¼š

1. è®¿é—® https://github.com/new
2. ä»“åº“åç§°ï¼š`manage` æˆ– `senyuan-plc`
3. é€‰æ‹© Privateï¼ˆç§æœ‰ï¼‰æˆ– Publicï¼ˆå…¬å¼€ï¼‰
4. **ä¸è¦**å‹¾é€‰ä»»ä½•åˆå§‹åŒ–é€‰é¡¹
5. ç‚¹å‡» Create repository

#### æ¨é€ä»£ç ï¼š

```bash
# æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢æˆä½ çš„ä»“åº“åœ°å€ï¼‰
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/manage.git

# æ¨é€ä»£ç 
git branch -M main
git push -u origin main
```

---

### æ­¥éª¤2ï¼šéªŒè¯Actionså·²å¯ç”¨

1. è¿›å…¥GitHubä»“åº“é¡µé¢
2. ç‚¹å‡» **Actions** æ ‡ç­¾
3. åº”è¯¥èƒ½çœ‹åˆ° "Build Windows Executable" workflow
4. å¦‚æœçœ‹åˆ° "Workflows disabled"ï¼Œç‚¹å‡»å¯ç”¨

---

### æ­¥éª¤3ï¼šæ‰‹åŠ¨è§¦å‘æ„å»º

#### æ–¹æ³•Aï¼šé€šè¿‡ç½‘é¡µè§¦å‘ï¼ˆæ¨èï¼‰

1. è¿›å…¥ **Actions** é¡µé¢
2. å·¦ä¾§é€‰æ‹© **Build Windows Executable**
3. ç‚¹å‡»å³ä¸Šè§’ **Run workflow** æŒ‰é’®
4. é€‰æ‹©åˆ†æ”¯ **main**
5. ç‚¹å‡»ç»¿è‰² **Run workflow** æŒ‰é’®

#### æ–¹æ³•Bï¼šæ¨é€ä»£ç è‡ªåŠ¨è§¦å‘

```bash
# ä»»ä½•ä»£ç ä¿®æ”¹åæ¨é€éƒ½ä¼šè‡ªåŠ¨æ„å»º
git add .
git commit -m "Update code"
git push
```

---

## â±ï¸ ç­‰å¾…æ„å»ºå®Œæˆ

### æŸ¥çœ‹æ„å»ºè¿›åº¦

1. åœ¨ Actions é¡µé¢ä¼šçœ‹åˆ°é»„è‰²åœ†ç‚¹ ğŸŸ¡ï¼ˆæ„å»ºä¸­ï¼‰
2. ç‚¹å‡»è¿›å…¥æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
3. å¤§çº¦éœ€è¦ **5-10åˆ†é’Ÿ**

### æ„å»ºæ­¥éª¤ï¼š
- âœ“ æ£€å‡ºä»£ç 
- âœ“ è®¾ç½®Node.js
- âœ“ å®‰è£…pnpm
- âœ“ å®‰è£…ä¾èµ–ï¼ˆæœ€è€—æ—¶ï¼‰
- âœ“ ç”ŸæˆPrismaå®¢æˆ·ç«¯
- âœ“ æ„å»ºNext.js
- âœ“ æ‰“åŒ…Windowså¯æ‰§è¡Œæ–‡ä»¶
- âœ“ ä¸Šä¼ æ–‡ä»¶

---

## ğŸ“¦ ä¸‹è½½æ„å»ºäº§ç‰©

### æ„å»ºæˆåŠŸåï¼ˆç»¿è‰²âœ…ï¼‰ï¼š

1. è¿›å…¥è¯¥æ¬¡æ„å»ºè¯¦æƒ…é¡µ
2. æ»šåŠ¨åˆ°åº•éƒ¨ **Artifacts** åŒºåŸŸ
3. ç‚¹å‡»ä¸‹è½½ï¼š
   - `æ£®æºç®¡ç†ç³»ç»Ÿ-Windows-Installer` - ä¸»è¦çš„exeå®‰è£…åŒ…
   - `blockmap-files` - å¢é‡æ›´æ–°æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

4. è§£å‹ZIPæ–‡ä»¶
5. å¾—åˆ° `æ£®æºç®¡ç†ç³»ç»Ÿ-0.1.0-x64.exe`

---

## ğŸ¯ ä½¿ç”¨æŠ€å·§

### è‡ªåŠ¨æ„å»º

é…ç½®å·²è®¾ç½®ä¸ºï¼š
- âœ… æ¨é€åˆ°mainåˆ†æ”¯æ—¶è‡ªåŠ¨æ„å»º
- âœ… åˆ›å»ºPull Requestæ—¶è‡ªåŠ¨æ„å»º
- âœ… å¯ä»¥æ‰‹åŠ¨è§¦å‘æ„å»º

### æ„å»ºç¼“å­˜

- ç¬¬ä¸€æ¬¡æ„å»ºï¼šçº¦8-10åˆ†é’Ÿ
- åç»­æ„å»ºï¼šçº¦3-5åˆ†é’Ÿï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰

### ç§æœ‰ä»“åº“

- å…è´¹è´¦å·æ¯æœˆ2000åˆ†é’Ÿ
- æ¯æ¬¡æ„å»ºçº¦10åˆ†é’Ÿ
- å¯ä»¥æ„å»ºçº¦200æ¬¡/æœˆ

### å…¬å¼€ä»“åº“

- **æ— é™åˆ¶å…è´¹**
- æ¨èç”¨äºå¼€æºé¡¹ç›®

---

## âš ï¸ å¯èƒ½é‡åˆ°çš„é—®é¢˜

### é—®é¢˜1ï¼šActionsæœªå¯ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. Settings â†’ Actions â†’ General
2. é€‰æ‹© "Allow all actions and reusable workflows"
3. ä¿å­˜

### é—®é¢˜2ï¼šæ„å»ºå¤±è´¥

**å¸¸è§åŸå› **ï¼š
- ä¾èµ–å®‰è£…å¤±è´¥ â†’ æ£€æŸ¥package.json
- Prismaç”Ÿæˆå¤±è´¥ â†’ æ£€æŸ¥prisma/schema.prisma
- Next.jsæ„å»ºå¤±è´¥ â†’ æ£€æŸ¥ä»£ç é”™è¯¯

**æŸ¥çœ‹æ—¥å¿—**ï¼š
1. ç‚¹å‡»å¤±è´¥çš„æ„å»º
2. ç‚¹å‡»å¤±è´¥çš„æ­¥éª¤
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

### é—®é¢˜3ï¼šæ‰¾ä¸åˆ°Artifacts

**åŸå› **ï¼š
- æ„å»ºå¤±è´¥æˆ–æœªå®Œæˆ
- exeæ–‡ä»¶æœªç”Ÿæˆ

**è§£å†³**ï¼š
- æŸ¥çœ‹æ„å»ºæ—¥å¿—
- ç¡®ä¿ dist-electron ç›®å½•æœ‰exeæ–‡ä»¶

---

## ğŸ“ å·¥ä½œæµé…ç½®è¯´æ˜

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`.github/workflows/build-windows.yml`

### è§¦å‘æ¡ä»¶

```yaml
on:
  push:
    branches: [ main, master ]  # æ¨é€åˆ°ä¸»åˆ†æ”¯
  workflow_dispatch:            # æ‰‹åŠ¨è§¦å‘
```

### è¿è¡Œç¯å¢ƒ

```yaml
runs-on: windows-latest  # ä½¿ç”¨æœ€æ–°çš„Windowsè™šæ‹Ÿæœº
```

### å…³é”®æ­¥éª¤

1. **å®‰è£…pnpm** - ä½¿ç”¨å®˜æ–¹action
2. **ç¼“å­˜ä¾èµ–** - åŠ é€Ÿåç»­æ„å»º
3. **æ„å»ºåº”ç”¨** - æ ‡å‡†æ„å»ºæµç¨‹
4. **ä¸Šä¼ äº§ç‰©** - ä¿å­˜exeæ–‡ä»¶

---

## ğŸ¨ è¿›é˜¶é…ç½®

### æ·»åŠ ç‰ˆæœ¬å·

ä¿®æ”¹ `.github/workflows/build-windows.yml`ï¼š

```yaml
- name: è®¾ç½®ç‰ˆæœ¬å·
  run: |
    $version = "1.0.${{ github.run_number }}"
    echo "VERSION=$version" >> $env:GITHUB_ENV
```

### å‘å¸ƒåˆ°GitHub Releases

æ·»åŠ æ­¥éª¤ï¼š

```yaml
- name: åˆ›å»ºRelease
  uses: softprops/action-gh-release@v1
  if: startsWith(github.ref, 'refs/tags/')
  with:
    files: dist-electron/*.exe
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

### å¤šå¹³å°æ„å»º

```yaml
strategy:
  matrix:
    os: [windows-latest, macos-latest, ubuntu-latest]
runs-on: ${{ matrix.os }}
```

---

## âœ… éªŒè¯æ¸…å•

å®Œæˆåæ£€æŸ¥ï¼š

- [ ] GitHubä»“åº“å·²åˆ›å»º
- [ ] ä»£ç å·²æ¨é€
- [ ] Actionså·²å¯ç”¨
- [ ] å·¥ä½œæµå·²è§¦å‘
- [ ] æ„å»ºæˆåŠŸï¼ˆç»¿è‰²âœ…ï¼‰
- [ ] å·²ä¸‹è½½exeæ–‡ä»¶
- [ ] exeæ–‡ä»¶å¯ä»¥æ­£å¸¸å®‰è£…è¿è¡Œ

---

## ğŸ†˜ è·å–å¸®åŠ©

### GitHub Actionsæ–‡æ¡£
https://docs.github.com/actions

### electron-builderæ–‡æ¡£
https://www.electron.build/

### é¡¹ç›®æ–‡æ¡£
- `Macç”µè„‘æ‰“åŒ…Windowsæ–¹æ¡ˆ.md` - å…¶ä»–æ–¹æ¡ˆ
- `Windowsæ‰“åŒ…æ–¹æ¡ˆ.md` - Windowsæœ¬åœ°æ‰“åŒ…
- `æ‰“åŒ…é—®é¢˜æ€»ç»“.md` - é—®é¢˜æ’æŸ¥

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### å…è´¹è´¦å·
- å…¬å¼€ä»“åº“ï¼š**å®Œå…¨å…è´¹**
- ç§æœ‰ä»“åº“ï¼š2000åˆ†é’Ÿ/æœˆ

### å®é™…ä½¿ç”¨
- æ¯æ¬¡æ„å»ºï¼šçº¦10åˆ†é’Ÿ
- å¯ä»¥æ„å»ºï¼šçº¦200æ¬¡/æœˆ
- **å®Œå…¨å¤Ÿç”¨**

### Proè´¦å·ï¼ˆ$4/æœˆï¼‰
- 3000åˆ†é’Ÿ/æœˆ
- æ›´å¤šå¹¶å‘

---

**ğŸ‰ å¼€å§‹ä½¿ç”¨GitHub Actionså§ï¼è¿™æ˜¯åœ¨Macä¸Šæ‰“åŒ…Windowsç¨‹åºçš„æœ€ä½³æ–¹æ¡ˆã€‚**
